\SetTitle{22}{The phase kickback trick}{An unexpected but useful phenomenon}{22}

\begin{frame}{Overview}{What do we study here?}

\end{frame}

\begin{frame}{Recall our oracle}{With its ancillary input $y$}

\TwoUnequalColumns{0.37\textwidth}{0.63\textwidth}{%
\begin{Oracle}[scale=0.75]{$U_f$}{\alert<1>{$x$}}{\alert<2,5>{$y$}}{\alert<4,5>{$x$}}{\alert<3>{\Xor{y}{f(x)}}}
\end{Oracle}
}{%
\begin{itemize}[<+->]
    \item The input $x$ is the uniform superposition of all values.
    \item The input $y$ is \ket{-}.
    \item The bottom qubit has a constant value, regardless of $f(x)$.
    \item However, the top qubit is a superpositon of terms, each term with a sign related to the function $f$ evaluated on that term.
    \item This is \emph{phase kickback}:  The bottom qubit's input, when \ket{-}, kicks phase changes up the top qubit's output.
\end{itemize}
}

\end{frame}

{
\def\X{\ColorOne{\ensuremath{x}}}\def\Y{\ColorTwo{\ensuremath{y}}}
\begin{frame}{Single qubit}{Phase kickback}
\TwoColumns{%
\begin{Oracle}[scale=0.75]{$U_f$}{$x$}{$y$}{$x$}{\Xor{y}{f(x)}}
\end{Oracle}
}{%
\only<1-7>{%
Recall
    $U_{f}:  \ket{\X\,\Y}\mapsto \ket{\X\,\Xor{\Y}{f(\X)}}$}
\only<8->{%
\Vskip{-3em}\begin{align*}
    U_f(\ket{x\,-}) &= \TwoSupOp{\ket{\X\,f(\X)}}{\ket{\X\,\Not{f(\X)}}}{-}
\end{align*}
}%
}
\only<1-7>{%
\TwoColumns{%
\begin{align*}
   \visible<1->{ U_f(\ket{x-}) &= U_f(\TensProd{\ket{x}}{\ket{-}}) \\}
    \visible<2->{&= U_f(\TensProd{\ket{x}}{\QMinus}) \\}
   \visible<3->{ &= U_{f}(\TwoSupOp{\ket{x0}}{\ket{x1}}{-}) \\}
  \visible<4->{  &= \RootTwo{}\left(U_f(\ket{\X\,\ColorTwo{0}})-U_f(\ket{\X\,\ColorTwo{1}})\right)}
\end{align*}
}{%
\begin{align*}
    \visible<5->{&= \RootTwo{}\left(\ket{\X\,(\Xor{\ColorTwo{0}}{f(\X)})}-U_f(\ket{\X\,\ColorTwo{1}})\right) \\}
    \visible<6->{&= \RootTwo\left(\ket{\X\,f(\X)} - \ket{\X\,(\Xor{\ColorTwo{1}}{f(\X)})}\right) \\}
    \visible<7->{&= \TwoSupOp{\ket{\X\,f(\X)}}{\ket{\X\,\Not{f(\X)}}}{-}}
\end{align*}
}}
\only<8-17>{%
\BigSkip{}
\TwoColumns{%
\visible<8->{Case $f(x)=0$}
\begin{align*}
   \visible<9->{U_f(\ket{x\,-}) &= \TwoSupOp{\ket{x\,0}}{\ket{x\,1}}{-} \\}
    \visible<10->{&= \TensProd{\ket{x}}{\QMinus} \\}
    \visible<11->{&= \TensProd{\ket{x}}{\ket{-}} \\}
   \visible<12->{ & = \ket{x\,-}}
\end{align*}
}{%
\visible<13->{Case $f(x)=1$}
\begin{align*}
   \visible<14->{ U_f(\ket{x\,-}) &= \TwoSupOp{\ket{x\,1}}{\ket{x\,0}}{-} \\}
    \visible<15->{&= \TensProd{\ket{x}}{\TwoSupOp{\QOne}{\QZero}{-}} \\}
   \visible<16->{ &= \TensProd{\ket{x}}{\alert{-}\QMinus} \\}
   \visible<17->{ & = \alert{-}\ket{x\,-}}
\end{align*}
}
}%
\only<18->{%
\BigSkip{}
\TwoColumns{%
Case $f(x)=0$
\[ U_f(\ket{x\,-}) = \ket{x\,-} \]
}{%
Case $f(x)=1$
\[ U_f(\ket{x\,-}) = \alert{-}\ket{x\,-} \]
}
\BigSkip{}
\visible<19->{\[ U_f(\ket{x\,-}) = (-1)^{f(x)}\ket{x\,-}\]}
\begin{itemize}
    \item<20-> Phase kickback associates the function result as the \emph{sign} on the state \ket{x\,-}.
    \item<21-> That sign is \emph{not} a global phase, with bottom qubit result \QMinus{}.
    \item<22-> The sign imposes a phase change relative to the \QZero{} and \QOne{} terms.
\end{itemize}
}
    
\end{frame}
}
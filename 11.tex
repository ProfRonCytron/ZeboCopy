\SetTitle{11}{Key distribution}{Quantum advantages here}{11}

\section*{Overview}

\begin{frame}{Overview}{What will we study here?}

\begin{itemize}
    \item other stuff
    \item Quantum devices for key distribution \href{https://en.wikipedia.org/wiki/Quantum_key_distribution\#Implementations}{have been built}.
\end{itemize}
    
\end{frame}

\section*{Classical exchange}

\begin{frame}{Diffie--Hellman key exchange}{Secrecy relies on the apparent difficulty of discrete log.}

\Vskip{-3em}\begin{ProtocolDialog}{0.28\textwidth}{0.33\textwidth}{0.37\textwidth}
\visible<1->{\All{$g=5$ and $p=23$.}{My secret $a=7$.}{My secret $b=12$.}}
\visible<2->{\All{Compute $5^{x}\bmod 23$}{I compute $A=5^{a}\bmod 23$.}{I compute $B=5^{b}\bmod 23$.}}
\visible<3->{\All{}{I publish $A=17$.}{I publish $B=18$.}}
\visible<4->{\All{Everybody hears:}{$B=18$}{$A=17$.}}
\visible<5->{\All{}{I compute $B^{a}\bmod 23$.}{I compute $A^{b}\bmod 23$.}}
\visible<6->{\All{}{I obtain $6=18^{7}\bmod 23$.}{I obtain $6=17^{12}\bmod 23$.}}
\visible<7->{\All{They agree!}{We have a shared key $6$.}{We have a shared key $6$.}}
\end{ProtocolDialog}
\OnlyRemark{8}{%
It's easy to compute $A$ from $a$ and $B$ from $b$.  There is no known \emph{efficient} classical algorithm for computing $a$ given $A$ and $B$.  Alice and Bob share the key and nobody else can compute it efficiently unless they know $a$ or $b$---unless they have a sufficiently large quantum computer.
}
    
\end{frame}

\begin{frame}{Remarks on Diffie--Hellman}
\begin{itemize}[<+->]
    \item The inventors were recognized in 2015 with the \href{https://awards.acm.org/about/2015-turing}{Turing award}.
    \item The shared secret is used sufficiently briefly that attempts to guess it will not pay off.
    \item The secrets $a$ and $b$ can be randomly generated.
    \item Eve, the evesdropper, can determine $a$ and $b$ if she can efficiently solve the \href{https://en.wikipedia.org/wiki/Discrete_logarithm}{discrete log} problem.
    \item A quantum computer can do that!
    \item Most companies are therefore interested in \href{https://en.wikipedia.org/wiki/Post-quantum_cryptography}{post-quantum cryptography}.
    \item Quantum key-distribution machines \href{https://en.wikipedia.org/wiki/Quantum_key_distribution\#Implementations}{have been built}.
\end{itemize}
\end{frame}

\section*{BB84}

\begin{frame}{BB84 (Bennett and Brassard)}{Overview}
\TwoUnequalColumns{0.4\textwidth}{0.6\textwidth}{%
\begin{center}
    \begin{TIKZP}[scale=0.9]
    \draw (0,0) rectangle ++(1,1) node[pos=0.5] {Alice};
    \draw (4,0) rectangle ++(1,1) node[pos=0.5] {Bob};
    \draw<2->[->] (1,0.5) -- (4,0.5) node[midway,above] {sends stream};
    \draw<3->[->] (0.5,0) -- (2.4,-1.5);
    \draw<3->[->] (4.5,0) -- (2.6,-1.5);
    \draw<3-> (2.5,-1.5) node[below] {publish};
    \end{TIKZP}
\end{center}}{%
\begin{itemize}
    \item<1-> Alice and Bob are separated and begin with no shared information.
    \item<2-> Alice sends a stream of quantum states to Bob.
    \only<2>{%
    \begin{itemize}
        \item These are sent physically, not teleported
        \item For example, over a fiber-optic channel
        \item Or better yet, a stream of photons sent in space
    \end{itemize}}
    \item<3-> Alice and Bob publish some information
    \only<3>{%
    \begin{itemize}
        \item This allows them to determine a shared key.
        \item They can also probabilistically rule out an evesdropper.
    \end{itemize}
    }
    \item<4-> Alice and Bob now share a key that nobody else (probably) knows.
\end{itemize}
}

\end{frame}

\begin{frame}{BB84}{Notation}
\Vskip{-3em}\TwoUnequalColumns{0.7\textwidth}{0.3\textwidth}{%
\begin{BBKey}%
To match \href{https://en.wikipedia.org/wiki/Quantum_key_distribution\#BB84_protocol:_Charles_H._Bennett_and_Gilles_Brassard_(1984)}{other presentations of this material}, we use the following notation:
    \begin{description}
     \item<1->[\STD{}] denotes the standard basis, depicted to the right.  Measurements in this basis are
     \ket{0} and \ket{1}, with symbols \BBUp{} and \BBRt{},
     respectively.  These measurements will be interpreted as bits $0$ and $1$, respectively
     \item<2->[\HDM{}] denotes the \emph{Hadamard} basis.  Measurements in this basis are \ket{+} and \ket{-},
     with symbols \BBNe{} and \BBSe{}, respectively.  These measurements will be interpreted as bits $0$ and $1$, respectively.
    \end{description}
\end{BBKey}}{%
\begin{center}
\begin{TIKZP}
\draw<1->[->,ultra thick] (0,0) -- (1,0) node[right] {\ \ket{1}};
\draw<1->[->,ultra thick] (0,0) -- (0,1) node[above] {\ket{0}};
\draw<2->[->,ultra thick] (0,0) -- (45:1) node[above] {\ket{+}};
\draw<2->[->,ultra thick] (0,0) -- (-45:1) node[below] {\ket{-}};
\end{TIKZP}
\MedSkip{}
\visible<3->{%
\begin{BBKey}
\BBBasis{}
\end{BBKey}}
\end{center}
}
\end{frame}

\begin{frame}{BB84 protocol}{How does it work?}
\Vskip{-4em}\TwoUnequalColumns{0.7\textwidth}{0.3\textwidth}{%
\begin{BBKey}
\only<1-6>{%
\begin{itemize}
    \item<1-> Alice randomly picks a basis \STD{} or \HDM{}.
    \item<2-> Alice randomly generates $0$ or $1$ in that basis, using the table shown to the right.
    \item<3-> Bob receives the state and then randomly decides to measure the state in \STD{} or \HDM{}.  His basis agrees with Alice's half the time.
    \only<3>{%
    \begin{itemize}
        \item Half the time, he will agree with Alice's basis, and his measurement, $0$ or $1$, will yield the state Alice sent.
        \item Half the time, he will disagree with Alice's basis, and then his measurement is equally likely to be $0$ or $1$.
    \end{itemize}}
\end{itemize}}
\only<7->{%
\begin{itemize}
    \item When they are ready, they publish their sequence of bases.
    \item They now know where they have agreement, and the measurements made in those instances constitute a shared key.
    \item Their shared key so far is $0101$.
\end{itemize}
}
\end{BBKey}
}{%
\begin{BBKey}
\begin{center}
    \BBBasis{}
\end{center}
\end{BBKey}
}
\only<4->{%
\begin{BBKey}
\begin{center}
    \begin{tabular}{c|cccccccc}
      \href{https://en.wikipedia.org/wiki/Quantum_key_distribution\#BB84_protocol:_Charles_H._Bennett_and_Gilles_Brassard_(1984)}{Example} & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 \\ \hline
    Alice's basis   & \STD{} & \visible<5->{ \STD{}} & \visible<6->{\HDM{} & \STD{} & \HDM{} & \HDM{} & \HDM{} & \STD{}}  \\
    Alice sends  & \BBUp{} & \visible<5->{\BBRt{}} & \visible<6->{\BBSe{} & \BBUp{} & \BBSe{} & \BBNe{} & \BBNe{} & \BBRt{}  }\\
    Bob's basis  & \STD{} & \visible<5->{\HDM{}} & \visible<6->{\HDM{} & \HDM{} & \STD{} & \HDM{} & \STD{} & \STD{} }\\
    \visible<7->{Agree? & \Agree{} & & \Agree{} & & & \Agree{} & & \Agree{} }\\
    \visible<7->{Shared key & $0$ & & $1$ & & & $0$ & & $1$}
    \end{tabular}
\end{center}
\end{BBKey}}
\end{frame}

\begin{frame}{What about Eve?}{Suppose she tries to intercept the state.}

\Vskip{-3em}\TwoUnequalColumns{0.4\textwidth}{0.6\textwidth}{%
\begin{BBKey}
\begin{center}
    \begin{TIKZP}[scale=0.9]
    \draw (0,0) rectangle ++(1,1) node[pos=0.5] {Alice};
    \draw (4,0) rectangle ++(1,1) node[pos=0.5] {Bob};
    \visible<2->{\node[above] at (1.5,0.5) {\STD{}};}
    \visible<2->{\node[above] at (3.5,0.5) {\STD{}};}
    \draw[->] (1,0.5) -- (4,0.5) ;
    \node<3->[below] at (1.5,0.5) {\BBRt{}};
    \node<3,5>[below] at (3.5,0.5) {\BBRt{}};
    \draw<4->[fill=yellow] (2,0) rectangle ++(1,1) node[pos=0.5] {Eve};
    \node<5>[above] at (2.5,0.5) {\STD{}};
    \node<6->[above] at (2.5,0.5) {\HDM{}};
    \node<5>[below] at (2.5,0.5) {\BBRt{}};
    \node<7->[below] at (2.5,0.5) {\BBSe{}};
    \node<9>[below] at (2.75,0.5) {\BBSe{}};
    \node<10-11>[below] at (3.0,0.5) {\BBSe{}};
    \node<12> [below] at (3.5,0.5) {\BBRt{}};
    \node<13->[below] at (3.5,0.5) {\BBUp{}};
    \end{TIKZP}
\end{center}%
\end{BBKey}
}{%
\begin{BBKey}
\only<1-3>{%
\begin{itemize}
    \item<1-> Alice is sending states to Bob.
    \item<2-> They randomly select the same basis.
    \item<3-> When Alice sends her state to Bob, he will measure it exactly as sent.
\end{itemize}
}%
\only<4-8>{%
\begin{itemize}
    \item<4-> If Eve intercepts and measures the state, the results depend on the basis Eve chooses.
    \begin{itemize}
        \item<5-> If Eve measures in the same basis as Alice and Bob, she measures identically to them, and she does not disturb the state.
        \item<6-> If Eve measures in the other basis, then she will
        \begin{itemize}
            \item<7-> randomly see \BBNe{} or \BBSe{}.
            \item<8-> change the state seen by Bob.
        \end{itemize}
    \end{itemize}
\end{itemize}
}
\only<9->{%
\begin{itemize}
    \item<9-> Bob is measuring in the \STD{} basis but, thanks to Eve, is now receiving state \BBSe{}.
    \item<11-> When he receives state \BBSe{} and measures in basis \STD{}, then 
    \begin{itemize}
        \item<12-> half the time he will measure \BBRt{}, and nobody will know Eve was there, but
        \item<13-> half the time he will measure \BBUp{}, which can show that Eve was there, if Alice and Bob publish some of their agreed-upon key.
    \end{itemize}
\end{itemize}
}
\end{BBKey}
}
\end{frame}
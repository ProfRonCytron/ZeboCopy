\SetTitle{99}{temp}{faster}{99}

\section*{The Z basis}
\begin{frame}{Reconstructing the computational basis}{A single qubit}

\TwoUnequalColumns{0.6\textwidth}{0.4\textwidth}{%
\only<1-2>{\begin{itemize}
    \item<1-> We have a device that performs measurements, collpasing state as follows with the associated eigenvalues:
       \begin{center}
        \begin{tabular}{cc}
        Eigentate & Eigenvalue \\
        \ColorOne{\QZero} & \ColorThree{$+1$} \\
        \ColorTwo{\QOne} & \ColorFour{$-1$} 
        \end{tabular}\end{center}
    \item<2-> The matrix $T$ containing those eigenstates as columns transforms the current basis into the computational basis, which is the identity matrix, since the bases are the same.


\end{itemize}}
\only<3->{\begin{itemize}
    \item The associated \emph{measurement} operator~$M$ is formed as follows:
    \[
    M = T\times D \times \Conj{T}
    \]
    where $D$ is a diagonal matrix containing the eigenvalues in order:
    \begin{align*}
        D =& \SQBG{\relax}{\ColorThree{+1}}{0}{0}{\ColorFour{-1}} \\
        \visible<4->{M = & \ColorFive{\ZMatrix}}
    \end{align*}
\end{itemize}}
}{%
\visible<4->{\begin{align*}
    \ColorFive{\ZMatrix{}}\ColorOne{\PZero{}} &= \ColorThree{+1}\PZero{} \\
    \ColorFive{\ZMatrix{}}\ColorTwo{\POne{}} &= \ColorFour{-1}\POne{}
\end{align*}}
\only<1-4>{%
\SmallSkip{}
\visible<2->{\[T =
\IMatrix
\]}}%
\only<5->{%

$M$ is our familiar \ColorFive{Z} matrix, which we have been claiming as our measurement operator for the computational basis.
}
}
    
\end{frame}

\begin{frame}{Reconstructing the computational basis}{Two qubits}
\TwoUnequalColumns{0.6\textwidth}{0.4\textwidth}{%
\begin{itemize}
    \item<1-> If \PauliZ{} is our operator for one qubit, then we expect \TensProd{\PauliZ}{\PauliZ} to be the measurement operator for two qubits.
    \item<2-> Its eigenstates and their eigenvalues are:
    \begin{center}
        \begin{tabular}{cc}
        State & Eigenvalue \\
        \ket{00} & $+1$ \\
        \ket{01} & $-1$ \\
        \ket{10} & $-1$ \\
        \ket{11} & $+1$
         \end{tabular}
    \end{center}
    \item<3-> The matrix of its eigenvalues is again \Identity.
\end{itemize}
}{%
\[
\TensProd{\PauliZ}{\PauliZ} = 
\begin{pmatrix*}[r]
1 & 0 & 0 & 0 \\
0 & -1 & 0 & 0 \\
0 & 0 & -1 & 0 \\
0 & 0 & 0 & 1
\end{pmatrix*}
\]
\SmallSkip\visible<3->{\[T =
\begin{pmatrix*}[r]
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1
\end{pmatrix*}
\]}
}
\end{frame}

\begin{frame}{Generally}{For $n$ qubits}
\begin{theorem}
In the computational basis of an $n$-qubit system, the operator \TensSupProd{\PauliZ}{n} has $2^n$ eigenstates: $\ket{x}\ |\ \AllBits{x}{n}$.
\SmallSkip{}
Eigenstate $\ket{x}$ has eigenvalue $\pm 1$ that is consistent with the parity of $x$:  even-parity states have eigenvalue $+1$ and odd-parity states have eigenvalue $-1$.
\end{theorem}
    
\end{frame}

\section*{Measurement in another basis}

\begin{frame}{Measurement in a basis other than the computational basis}{Overview}

\begin{itemize}[<+->]
    \item Qiskit, in emulation and on the available hardware, performs measurements only in the computational basis.
    \item Recall that for a single qubit, \QZero{} and \QOne{} are the North and South poles of the Bloch sphere, respectively.
    \item How can we measure that qubit in a \emph{different} basis?
    \begin{enumerate}
    \item We can transform state from our desired basis to the computational basis.
    \item We then measure in the computational basis, which causes collapse upon measurement to~\QZero{} or~\QOne{}
    \item If there is more to the computation, then we must transform back so that we are in the corresponding eigenstate of our desired basis.
    \end{enumerate}
    \item In this discussion it is helpful to keep in mind the basis under consideration.  For example, we know
    \(\ket{+} = \QPlus \).  These are two names for the same state but the right-hand side is expressed in the computational basis.
\end{itemize}
    
\end{frame}

\begin{frame}{More detail}{On the three steps}

\Vskip{-3em}\begin{enumerate}
    \item<1-> Transform our state into the computational basis.  We establish a mapping between our basis vectors and the computational basis vectors.  All states then transform correctly by linearity.
    
    For example, we might transform from the \TensProd{\PauliX}{\PauliX} to \TensProd{\PauliZ}{\PauliZ} as follows:
    \begin{center}
        \begin{tabular}{c@{\ $\alt<3>{\leftarrow}{\rightarrow}$\ }c}
        Our state & \TensProd{\PauliZ}{\PauliZ} state \\
        \hline
        \ColorOne{\ket{++}} & \ColorOne{\ket{00}} \\
        \ColorTwo{\ket{+-}} & \ColorTwo{\ket{01}} \\
        \ColorThree{\ket{-+}} & \ColorThree{\ket{10}} \\
        \ColorFour{\ket{--}} & \ColorFour{\ket{11}}
        \end{tabular}
    \end{center}
    Any such mapping suffices, but the above mapping is somewhat standard.  
    \item<2-> We measure in the computational basis, using the mapping to interpret the results in our basis.  Measuring \ColorThree{\ket{10}} is akin to measuring \ColorThree{\ket{-+}} in our basis.
    \item<3-> To transform back, we use the inverse of the above mapping, creating the measurement outcome in our basis.
\end{enumerate}
    
\end{frame}

\begin{frame}{Transforming state to and from another basis}{Overview}

\begin{itemize}
    \item We consider a system of $n$ qubits.
    \item We find $2^n$ orthonormal eigenstates in our desired basis. These are the collapsed outcomes we expect from measurement in that basis.
    \item Because these will eventually map to the computational basis, we must determine that half of our eigenstates have eigenvalue~$+1$ and the other half~$-1$.
    \item We form a matrix $T$ whose columns are those eigenstates.  The matrix must be unitary:
    \begin{itemize}
        \item It is halfway there, as the columns are orthonormal.  
        \item If the rows are not orthonormal, then we must use other eigenstates.
    \end{itemize}
    \item This matrix maps the comuputational basis to eigenstates of our desired basis.
    \item The matrix's inverse performs the mapping in the other direction.
    \item Because the matrix is unitary, its conjugate transpose is its inverse.
\end{itemize}
\end{frame}

\begin{frame}{Translation to and from the \PauliX{} basis}{An example where we already know the outcome}

\TwoUnequalColumns{0.6\textwidth}{0.4\textwidth}{%
\Vskip{-3em}\begin{itemize}
    \item Our orthonormal eigenstates and their eigenvalues are:
    \begin{center}
        \begin{tabular}{cc}
        Eigenstate & Eigenvalue \\
        \ket{++} & $+1$ \\
        \ket{+-} & $-1$ \\
        \ket{-+} & $-1$ \\
        \ket{--} & $+1$
         \end{tabular}
    \end{center}
    \item The resulting matrix $T$ is shown to the right, and its inverse is its transpose.
    \item The operator that produces these eigenvalues is shown as well.  Unsurprisingly it is \TensProd{\PauliX}{\PauliX}, which we know has the above kets as its eigenstates.
    
\end{itemize}
}{%
\[T =
\frac{1}{2}\begin{pmatrix*}[r]
1 & 1 & 1 & 1 \\
1 & -1 & 1 & -1 \\
1 & 1 & -1 & -1 \\
1 & -1 & -1 & 1
\end{pmatrix*}
\]\SmallSkip{}
\[
\TensProd{\PauliX}{\PauliX} = 
\begin{pmatrix*}[r]
0 & 0 & 0 & 1 \\
0 & 0 & 1 & 0 \\
0 & 1 & 0 & 0 \\
1 & 0 & 0 & 0
\end{pmatrix*}
\]
}
    
\end{frame}


\begin{frame}{Visual interpretation}{Measurement in the \NamedGate{X} (Hadamard) basis}
\Vskip{-4em}\TwoColumns{%
\only<1-8>{\begin{itemize}
    \item<1-> Consider the observable \PauliX{} with eigenvectors \visible<2->{\ColorOne{\ket{+}}} \visible<3->{and \ColorTwo{\ket{-}}.}
    \item<4-> If we had an \NamedGate{X} measurement device, then the measured qubit would collapse to~\ColorOne{\ket{+}} \visible<5->{ or~\ColorTwo{\ket{-}}}
    \item<6-> The detector reports the corresponding \ColorThree{eigenvalue}, revealing the qubit's collapsed state.
    \item<7-> \PauliX{} is both a unitary gate and a measurement operator.
\end{itemize}}%
\only<9-13>{%
\begin{itemize}
    \item<9-> Thanks to linearity we can map the \PauliX{} basis to the computational basis.
    \item<10-> Given state \QState{}, we require a transformation that maps
    \begin{center}
    \begin{tabular}{r@{$\mapsto$}l}
       \ColorOne{\ket{+}} & \QZero{} \\
       \ColorTwo{\ket{-}} & \QOne{}
    \end{tabular}\end{center}
    \item<11-> The \ColorFive{\Hadamard{}} gate performs this mapping.
    \item<12-> Measurement in the computational basis now yields the correct result.
    \item<13-> However, the qubit collapses to~\ket{0} or~\ket{1}; neither is a valid state after measurement in the \PauliX{} basis.
\end{itemize}
}%
\only<14->{%
\begin{itemize}
    \item<14-> Recall \Hadamard{} is its own inverse.
    \item<15-> Thus, after we measure, we apply another \Hadamard{} operator to obtain the correct state for further computation, if necessary.
    \item<16-> This is demonstrated in the \texttt{MeasureH} notebook.
\end{itemize}
}
}{%
\Vskip{-2em}
\begin{center}
\begin{TIKZP}
\alert<8-9>{\draw[->,thick] (0,0) -- (1,0) node[right] {\ \ket{1}};}
\alert<8-9>{\draw[->,thick] (0,0) -- (0,1) node[above] {\ket{0}};}
\textcolor<2,4,10->{\RCone}{\draw[->,thick] (0,0) -- (45:1) node[above] {\ket{+}};}
\textcolor<3,5,10->{\RCtwo}{\draw[->,thick] (0,0) -- (-45:1) node[below] {\ket{-}};}
\end{TIKZP}
\end{center}
\Vskip{-2.5em}\only<1-6>{\begin{alignat*}{5}
    \visible<2->{\XMatrix{} & \textcolor<2>{\RCone}{\PHad{}} & \mbox{ = } & \ColorThree{+1}  & \textcolor<2,4>{\RCone}{\PHad{}}  \\}
    \visible<3->{\XMatrix{} & \textcolor<3>{\RCtwo}{\PHadm{}} & \mbox{ = } & \ColorThree{-1}  & \textcolor<3,5>{\RCtwo}{\PHadm{}} }
\end{alignat*}}%
\only<8>{%
\SmallSkip{}

If we can measure only in the \alert{computational basis}, how do we perform measurements in the \PauliX{} basis?
}%
\only<11-14>{%
\begin{align*}
    \ColorFive{\HMatrix{}}\ColorOne{\PPlus{}} &= \PZero{} \\
    \ColorFive{\HMatrix{}}\ColorTwo{\PMinus{}} &= \POne{}
\end{align*}
}%
\only<15->{%
\begin{align*}
    \ColorFive{\HMatrix{}}\PZero{} &= \ColorOne{\PPlus{}} \\
    \ColorFive{\HMatrix{}}\POne{} &= \ColorTwo{\PMinus{}}
\end{align*}
}
}
    
\end{frame}

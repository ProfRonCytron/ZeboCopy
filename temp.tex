\SetTitle{99}{temp}{faster}{99}



{
\def\D{\QState{d}}
\def\S{\ColorOne{\ket{s}}}
\def\W{\ColorThree{\ket{w}}}
\def\A{\ColorOne{\ensuremath{\alpha}}}
\def\B{\ColorTwo{\ensuremath{\beta}}}
\begin{frame}{The math}{Generally, with $\alpha$ amplitude on \ket{w} and $\beta$ amplitude on all other values}

\begin{Reasoning}
\Reason{1}{At the beginning, we have \A{} amplitude on \W, and \B amplitude on all other states}
\Reason{2}{The oracle $U_{f}$ reflects amplitude on \W, leaving all others alone}
\Reason{3}{Completing the sum}
\Reason{4}{\Hadamard(\TensSupProd{0}{n}) = \RootN{N}\SumBV{x}{n}\ket{x}}
\Reason{6}{Collect terms}
\Reason{9}{Note that \ket{\TensSupProd{0}{n}} is contained in each of the two terms}
\Reason{11}{$R$ is the reflection of all but the \ket{\TensSupProd{0}{n}} term}
\Reason{12}{Making the summation complete again}
\Reason{15}{Collected coefficents on \ket{\TensSupProd{0}{n}}}
\Reason{16}{Applying \Hadamard{} to return to our original basis, completing step 2}
\Reason{19}{\S{} also contains \W{}}
\Reason{20}{Preparing the fraction with a common denominator}
\Reason{21}{Separately accounting for \W}
\Reason{22}{Simplifying}
\end{Reasoning}

\ScrollProof{1}{5}{%
    \Next{\Four}{\D &= +\A\W + \RootN{N-1} \sum_{x\neq w} \B\ket{x}\\}
    \Next{\Three}{U_{f}(\D) &= -\A\W + \RootN{N-1} \sum_{x\neq w} \B\ket{x}\\}
   \Next{\Two}{U_{f}(\D) &=  -\A\W + \RootUN{\B}{N-1}\left(-\W +  \SumBV{x}{n}\ket{x}\right) \\}
    \Last{&=  -\A\W + \RootUN{\B}{N-1}\left(-\W +  \sqrt{N}\ \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\right)}
}%
\ScrollProof{6}{10}{%
  \Next{\Four}{U_{f}(\D) &=  -\A\W + \RootUN{\B}{N-1}\left(-\W +  \sqrt{N}\ \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\right) \\}
  \Next{\Three}{ &= \left(-\A-\RootUN{\B}{N-1}\right)\W + \left(\RootUN{\B\sqrt{N}}{N-1}\right) \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\\}
  \Next{\Two}{ &= \left(-\A-\RootUN{\B}{N-1}\right)\W + \left(\RootUN{\B\sqrt{N}}{N-1}\right) \RootUN{\sqrt{N}}{N}\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\\}
  \Last{&=\left(-\A-\RootUN{\B}{N-1}\right)\W + \left(\RootUN{\B\,N}{N-1}\right) \RootN{N}\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)}
}%
\ScrollProof{11}{15}{%
  \Next{\Four}{U_{f}(\D)&=\left(-\A-\RootUN{\B}{N-1}\right)\W + \left(\RootUN{\B\,N}{N-1}\right) \RootN{N}\Hadamard\left(\ket{\TensSupProd{0}{n}}\right) \\}
  \Next{\Three}{\Hadamard\left(U_{f}(\D)\right) &= \left(-\A-\RootUN{\B}{N-1}\right)\Hadamard(\W) + \left(\RootUN{\B\,N}{N-1}\right) \S \\}
  \Next{\Two}{\alert<11>{R}\left(\Hadamard(U_{f}(\S))\right) &=\left(1-\frac{2}{N}\right)\ket{\TensSupProd{0}{n}} \alert<11>{+} \frac{2}{\sqrt{N}}\RootN{N} \sum_{\alert<12>{x\neq \TensSupProd{0}{n}}} \NegOneExp{\DotP{\ColorThree{w}}{x}} \ket{x} \\}
  \Last{&= \left(1-\frac{2}{N}\right)\ket{\TensSupProd{0}{n}}\alert<12>{- \frac{2}{N}\ket{\TensSupProd{0}{n}}} \alert<11>{+} \frac{2}{\sqrt{N}}\RootN{N}  \alert<12>{\NHadamard{\ColorThree{w}}{n}{x}}}
}%
\ScrollProof{14}{18}{%
 \Next{\Four}{R\left(\Hadamard(U_{f}(\S))\right) &=\left(1-\frac{2}{N}\right)\ket{\TensSupProd{0}{n}} - \frac{2}{N}\ket{\TensSupProd{0}{n}} + \frac{2}{\sqrt{N}}\RootN{N}  \NHadamard{\ColorThree{w}}{n}{x} \\}
 \Next{\Three}{&=\left(1-\frac{4}{N}\right)\ket{\TensSupProd{0}{n}}  + \frac{2}{\sqrt{N}}\RootN{N}  \NHadamard{\ColorThree{w}}{n}{x} \\}
 \Next{\Two}{\Hadamard\left(R\left(\Hadamard(U_{f}(\S))\right)\right) &=\left(1-\frac{4}{N}\right)\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)  + \frac{2}{\sqrt{N}}\ \Hadamard\left(\RootN{N}  \NHadamard{\ColorThree{w}}{n}{x}\right) \\}
 \Last{&= \left(1-\frac{4}{N}\right)\RootN{N}\S + \frac{2}{\sqrt{N}}\W = \QState{d}}
}
\ScrollProof{19}{23}{%
\Next{\Four}{\QState{d} &= \frac{N-4}{N}\RootN{N}\S + \frac{2}{\sqrt{N}}\W \\[1em]}
\Next{\Three}{\QState{d} &= \frac{N-4}{N}\RootN{N}\S + \frac{2\alert<20>{N}}{\alert<20>{N}\sqrt{N}}\W \\[1em]}
\Next{\Two}{&= \frac{\alert<21>{N-4}}{N}\RootN{N}\sum_{\alert<21>{x\neq w}} \ket{x} + \frac{\alert<21>{N-4}+2N}{N}\RootN{N}\W \\}
\Last{&= \frac{N-4}{N}\RootN{N}\sum_{x\neq w} \ket{x} + \frac{3N-4}{N}\RootN{N}\W}
}
    
\end{frame}
\begin{frame}{Results from the first iteration}{Steps 1 and 2}

\Vskip{-3em}\[
\QState{d}  = \ColorSix{\frac{N-4}{N}}\RootN{N}\sum_{x\neq w} \ket{x} + \ColorFour{\frac{3N-4}{N}}\RootN{N}\W \]

Recalling that $N=2^{n}$ is large
\begin{itemize}
    \item The amplitude on \W{} has increased from \RootN{N} to nearly \ColorFour{$\frac{3}{\sqrt{N}}$}.
    \item The amplitude elsewhere is slightly reduced, from \RootN{N} to \ColorSix{$\frac{N-4}{N}\RootN{N}$}.
    \item If we repeat this analysis, we see the amplitude on \W{} take on the sequence:
    \[ \frac{1}{\sqrt{N}}, \ColorFour{\frac{3}{\sqrt{N}}}, \frac{5}{\sqrt{N}}, \ldots
    \]
    \item We apparently require $\Theta(\sqrt{N})$ iterations to observe \W{} with reasonable probability for a problem of size~$N$.
    \item We show this next.
\end{itemize}
    
\end{frame}
}

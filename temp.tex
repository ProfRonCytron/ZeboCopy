\SetTitle{99}{temp}{faster}{99}



{
%%
%% #1 i first row
%% #2 j second row
%% #3 ii
%% #4 ij
%% #5 ji
%% #6 jj
%%
\def\GenTLArray#1#2#3#4#5#6{%
   \begin{center}\begin{TLArray}{4}{#1}{#2}{#3}{#4}{#5}{#6}{1}{0}
      \ensuremath{\begin{pmatrix*}
         \GenFourByFour{}
      \end{pmatrix*}}
\end{TLArray}\end{center}}%
%%
\def\GenSpotArray#1#2#3#4{%
{%
\begin{center}
\ensuremath{%
\def\arraystretch{1.4}%
\begin{SpotArray}{4}{#1}{#2}{\ColorTwo}{\ColorOne}{#3}
\begin{pmatrix*}[r]
#4
\end{pmatrix*}
\end{SpotArray}
}
\end{center}
}}%
%%
\def\ABR#1#2#3{%
{\small
\begin{align*}
\ColorOne{a} &= \ColorOne{#1} \\
\ColorTwo{b} &= \ColorTwo{#2} \\
\ColorFive{r} &= \ColorFive{#3}
\end{align*}}}
\def\HF#1{\ensuremath{\frac{#1}{2}}}
\def\RootEt#1{\ensuremath{\frac{#1}{\sqrt{8}}}}
\def\I{\NiceI}
\def\E#1{\TE{#1}}

\def\U{%
\E{\HF{1}} & \E{\HF{1}}   & \E{\HF{1}}  & \E{\HF{1}}    \\
\E{\HF{1}} & \E{\HF{\I}}  & \E{-\HF{1}} & \E{-\HF{\I}}  \\
\E{\HF{1}} & \E{-\HF{1}}  & \E{\HF{1}}  & \E{-\HF{1}}   \\
\E{\HF{1}} & \E{-\HF{\I}} & \E{-\HF{1}}  & \E{\HF{\I}}}

\def\UaU{%
\E{\RootTwo} & \E{\RootEt{1+\I}} & \E{0} & \E{\RootEt{1-\I}} \\
\E{0}            & \E{\RootEt{1-\I}} & \E{\RootTwo} & \E{\RootEt{1+i}} \\
\E{\HF{1}}       & \E{-\HF{1}} & \E{\HF{1}} & \E{-\HF{1}} \\
\E{\HF{1}}       & \E{-\HF{\I}} & \E{-\HF{1}} & \E{\HF{\I}}}

\def\UbUaU{%
}



\xdef\RMatrix{\ensuremath{U}}

%%  #1 - U number for the two level array for this slide
%%  #2 - a
%%  #3 - b
%%  #4 - r
%%  #5 - Old
%%  #6 - Two level
%%  #7 - new
%%  #8 - title
%%  #9 - subtitle
\def\GenSlide#1#2#3#4#5#6#7#8#9{%
\begin{frame}{#8}{#9}
\Vskip{-3em}\TwoColumns{%
\Vskip{-4em}\TwoUnequalColumns{0.7\textwidth}{0.3\textwidth}{
\[U_{#1}=\]
#6}{%
\ABR{#2}{#3}{#4}
}
}{%
\hbox to \textwidth{\hss\RMatrix{} =\hbox to 3em{\hss}}
#5
}
\Vskip{-3em}\begin{center}
\xdef\RMatrix{$U_{#1}$\RMatrix}
 \RMatrix = #7
\end{center}
\end{frame}
}
\GenSlide{1}{\HF{1}}{\HF{1}}{\RootTwo}{\GenSpotArray{2}{1}{1}{\U}}{\GenTLArray{1}{2}{\RootTwo}{\RootTwo}{\RootTwo}{-\RootTwo}}{\GenSpotArray{2}{1}{0}{\UaU}}{Example}{Step 1}

\GenSlide{2}{\RootTwo}{\HF{1}}{\HF{\sqrt{3}}}{\GenSpotArray{3}{1}{1}{\UaU}}{\GenTLArray{1}{3}{\frac{\sqrt{2}}{\sqrt{3}}}{\frac{1}{\sqrt{3}}}{\frac{1}{\sqrt{3}}}{-\frac{\sqrt{2}}{\sqrt{3}}}}{\GenSpotArray{2}{1}{0}{\UaU}}{Example}{Step 2}

\begin{frame}{first}
\Vskip{-3em}\TwoColumns{%
\Vskip{-4em}\TwoUnequalColumns{0.7\textwidth}{0.3\textwidth}{
\[U_{1}=\]
\GenTLArray{1}{2}{\RootTwo}{\RootTwo}{\RootTwo}{-\RootTwo}}{%
\ABR{\HF{1}}{\HF{1}}{\RootTwo}
}
}{%
\hbox to \textwidth{\hss\RMatrix{} =\hbox to 3em{\hss}}
\GenSpotArray{2}{1}{1}{\U}
}
\Vskip{-3em}\begin{center}
\xdef\RMatrix{$U_1$\RMatrix}
 \RMatrix = \GenSpotArray{2}{1}{0}{\UaU}
\end{center}
\end{frame}




}
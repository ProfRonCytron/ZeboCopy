\SetTitle{99}{temp}{faster}{99}



{
\def\D{\QState{d}}
\def\S{\ColorOne{\ket{s}}}
\def\W{\ColorThree{\ket{w}}}
\def\A{\ColorOne{\ensuremath{\alpha}}}
\def\B{\ColorTwo{\ensuremath{\beta}}}
\begin{frame}{The math}{Generally, with $\alpha$ amplitude on \ket{w} and $\beta$ amplitude on all other values}

\begin{Reasoning}
\Reason{1}{Prior to step 1, we have \A{} amplitude on \W, and \B{} amplitude on all other states}
\Reason{2}{The oracle $U_{f}$ reflects amplitude on \W, leaving all others alone}
\Reason{3}{Completing the sum}
\Reason{4}{\Hadamard(\TensSupProd{0}{n}) = \RootN{N}\SumBV{x}{n}\ket{x}}
\Reason{6}{Collect terms in preparation for the upcoming \Hadamard{}}
\Reason{8}{Apply \Hadamard{} to both sides}
\Reason{9}{\Hadamard{} is its own inverse}
\Reason{12}{Recall $\Hadamard\left(\W)\right) = \RootN{N} \NHadamard{\ColorThree{w}}{n}{x}$}
\Reason{13}{Rearrange. Note that \ket{\TensSupProd{0}{n}} appears in the summation}
\Reason{14}{Collect coefficients for \ket{\TensSupProd{0}{n}}. $\B\,\sqrt{N}-\B\RootN{N} - \A\RootN{N}=\RootUN{\B(N-1)-\A}{N}$}
\Reason{16}{We next negate all states except \ket{\TensSupProd{0}{n}}}
\Reason{17}{We denote the reflection of all states except \ket{\TensSupProd{0}{n}} using $R$}
\Reason{18}{Complete the summation}
\Reason{19}{\S{} also contains \W{}}
\Reason{20}{Preparing the fraction with a common denominator}
\Reason{21}{Separately accounting for \W}
\Reason{22}{Simplifying}
\Reason{23}{Recall $\S{}=\RootN{N}\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)$}
\end{Reasoning}

\ScrollProof{1}{5}{%
    \Next{\Four}{\D &= +\A\W +  \B\sum_{x\neq w} \ket{x}\\}
    \Next{\Three}{U_{f}(\D) &= -\A\W + \B \sum_{x\neq w} \ket{x}\\}
   \Next{\Two}{U_{f}(\D) &=  -\A\W + \B\left(-\W +  \SumBV{x}{n}\ket{x}\right) \\}
    \Last{&=  -\A\W + \B\left(-\W +  \sqrt{N}\ \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\right)}
}%
\ScrollProof{6}{10}{%
  \Next{\Four}{U_{f}(\D) &=  -\A\W + \B\left(-\W +  \sqrt{N}\ \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\right) \\}
  \Next{\Three}{ &= \left(-\A-\B\right)\W + \B\sqrt{N}\  \Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\\}
  \Next{\Two}{\alert<8>{\Hadamard}\left(U_{f}(\D)\right) &= \left(-\A-\B\right)\alert<8>{\Hadamard}\left(\W\right) + \B\sqrt{N}\  \ \alert<9>{\alert<8>{\Hadamard}\left(\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)\right)}\\}
  \Last{&=\left(-\A-\B\right)\Hadamard\left(\W\right) + \B\,\sqrt{N}\, \alert<9>{\ket{\TensSupProd{0}{n}}}}
}%
\ScrollProof{11}{15}{%
  \Next{\Four}{\Hadamard\left(U_{f}(\D)\right)&=\left(-\A-\B\right)\alert<12>{\Hadamard}\left(\W\right) + \B\,\sqrt{N}\, \ket{\TensSupProd{0}{n}} \\}
%%
  \Next{\Three}{ &= \left(-\A-\B\right)\alert<12>{\RootN{N}\NHadamard{\ColorThree{w}}{n}{x}} + \B\,\sqrt{N}\, \ket{\TensSupProd{0}{n}}\\}
  \Next{\Two}{ &= \B\,\sqrt{N}\, \ket{\TensSupProd{0}{n}} - \left(\A+\B\right)\alert<12>{\RootN{N}\alert<13>{\NHadamard{\ColorThree{w}}{n}{x}}}\\}
  \Last{&= \left(\RootUN{\B(N-1)-\A}{N}\right) \ket{\TensSupProd{0}{n}} - \left(\A+\B\right)\RootN{N}\NHadamardS{\ColorThree{w}}{n}{x}{\sum_{\alert<14>{x\neq\TensSupProd{0}{n}}}}}
}%
\ScrollProof{16}{20}{%
 \Next{\Four}{\Hadamard\left(U_{f}(\D)\right) &=\left(\RootUN{\B(N-1)-\A}{N}\right) \ket{\TensSupProd{0}{n}} \alert<17>{-} \left(\A+\B\right)\RootN{N}\NHadamardS{\ColorThree{w}}{n}{x}{\sum_{\alert<14>{x\neq\TensSupProd{0}{n}}}} \\}
 \Next{\Three}{R\left(\Hadamard\left(U_{f}(\D)\right)\right) &=\left(\RootUN{\B(N-1)-\A}{N}\right) \ket{\TensSupProd{0}{n}} \alert<17>{+} \left(\A+\B\right)\RootN{N}\NHadamardS{\ColorThree{w}}{n}{x}{\sum_{\alert<14>{x\neq\TensSupProd{0}{n}}}}  \\}
 %% left off here
 \Next{\Two}{\Hadamard\left(R\left(\Hadamard(U_{f}(\S))\right)\right) &=\left(1-\frac{4}{N}\right)\Hadamard\left(\ket{\TensSupProd{0}{n}}\right)  + \frac{2}{\sqrt{N}}\ \Hadamard\left(\RootN{N}  \NHadamard{\ColorThree{w}}{n}{x}\right) \\}
 \Last{&= \left(1-\frac{4}{N}\right)\RootN{N}\S + \frac{2}{\sqrt{N}}\W = \QState{d}}
}
\ScrollProof{19}{23}{%
\Next{\Four}{\QState{d} &= \frac{N-4}{N}\RootN{N}\S + \frac{2}{\sqrt{N}}\W \\[1em]}
\Next{\Three}{\QState{d} &= \frac{N-4}{N}\RootN{N}\S + \frac{2\alert<20>{N}}{\alert<20>{N}\sqrt{N}}\W \\[1em]}
\Next{\Two}{&= \frac{\alert<21>{N-4}}{N}\RootN{N}\sum_{\alert<21>{x\neq w}} \ket{x} + \frac{\alert<21>{N-4}+2N}{N}\RootN{N}\W \\}
\Last{&= \frac{N-4}{N}\RootN{N}\sum_{x\neq w} \ket{x} + \frac{3N-4}{N}\RootN{N}\W}
}
    
\end{frame}
\begin{frame}{Results from the first iteration}{Steps 1 and 2}

\Vskip{-3em}\[
\QState{d}  = \ColorSix{\frac{N-4}{N}}\RootN{N}\sum_{x\neq w} \ket{x} + \ColorFour{\frac{3N-4}{N}}\RootN{N}\W \]

Recalling that $N=2^{n}$ is large
\begin{itemize}
    \item The amplitude on \W{} has increased from \RootN{N} to nearly \ColorFour{$\frac{3}{\sqrt{N}}$}.
    \item The amplitude elsewhere is slightly reduced, from \RootN{N} to \ColorSix{$\frac{N-4}{N}\RootN{N}$}.
    \item If we repeat this analysis, we see the amplitude on \W{} take on the sequence:
    \[ \frac{1}{\sqrt{N}}, \ColorFour{\frac{3}{\sqrt{N}}}, \frac{5}{\sqrt{N}}, \ldots
    \]
    \item We apparently require $\Theta(\sqrt{N})$ iterations to observe \W{} with reasonable probability for a problem of size~$N$.
    \item We show this next.
\end{itemize}
    
\end{frame}
}

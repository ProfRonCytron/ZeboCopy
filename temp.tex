\SetTitle{99}{temp}{faster}{99}


{
\def\TTerm#1{\TwoSupOp{\QZero}{\ExpPhase{2\pi\left(2^{#1}\W{}\right)}\QOne}{+}}
\def\N{\ColorFive{\ensuremath{n}}}\def\W{\ColorTwo{\ensuremath{w}}}\def\Y{\ColorFour{y}}
\begin{frame}{Our theorem}{Needs a proof, but first a restatement}
    \Vskip{-3em}\begin{align*}
 \RootTwoN{\N}\alt<3->{\alert<3>{\SumBV{\Y}{\N}}}{\SumPH{\Y}{\N}} \ExpPhase{2\pi \W{}\Y} \ket{\Y} =& \TTerm{\N{}-1}  \\
 \TensOp{} & \TTerm{\N{}-2} \\
 \TensOp{} & \cdots \\
 \TensOp{} & \TTerm{\N{}-\N{}} 
\end{align*}
\only<1-2>{%
\begin{itemize}
    \item<1-> The use of \Y{} as the variable for the summation and as \ket{\Y} requires us to view \Y{} as a \href{https://en.wikipedia.org/wiki/Number}{number}, taking on the sequence $0, 1, \ldots,2^{\N}-1$,
    \item<2-> For the purposes of our proof it is more useful to view \Y{} as a base-2 \href{https://en.wikipedia.org/wiki/Numeral}{numeral}:  a string of \N{}~bits.
\end{itemize}}%
\only<3-4>{%
\begin{itemize}
    \item The summation in our theorem changes as shown here.
    \item The summation is now over all bit strings of length~$n$.  These must be interpreted numerically in the exponent.
\end{itemize}
}%
\only<5->{%
\begin{itemize}
    \item<5-> In truth this is more accurate, as the tensor products on the right pile up bit strings, not integers.
    \item<6-> To help the proof fit on these slides, we will define functions that generate portions of the theorem.
\end{itemize}}
\end{frame}
%%%
%%%
%%%
\def\ThSumTerm#1{%
\ensuremath{\ExpPhase{2\pi \W{} #1} \ket{#1}}}
\def\ThSum#1{%
\ensuremath{\RootTwoN{#1}\SumBV{\Y}{#1} \ThSumTerm{\Y}}}
%%%
%%%
\def\ThTop#1{%
\fbox{\adjustbox{valign=t, width=0.97\textwidth}{
$\ColorOne{\SS{#1}=\ThSum{#1}}\ \mbox{\vrule width 1.5pt height 2em depth 1.3em}\ \ColorTwo{\TT{#1}= \TTerm{#1-1}\TensOp{}\TTerm{#1-2}\TensOp{}\cdots\TensOp\TTerm{#1-#1}}$}}}
\def\SS#1{\ColorOne{\ensuremath{S(#1)}}}
\def\TT#1{\ColorTwo{\ensuremath{T(#1)}}}

\begin{frame}{Theorem}{And proof}
\Vskip{-3em}\begin{theorem}
\TwoColumns{%
\begin{align*}
    S(\N) =& \ThSum{\N}
\end{align*}
}{%
  \begin{align*}
    T(\N) = &\TTerm{\N-1}  \\
 \TensOp{} & \TTerm{\N-2} \\
 \TensOp{} & \cdots \\
 \TensOp{} & \TTerm{\N-\N} 
\end{align*}}
\begin{center}
Define $P(\N):  T(\N)=S(\N)$ \\
\Forall{\N\geq 1}{P(\N)}\end{center}
\end{theorem}
Proof by induction.  We first show $P(1)$ and then show $\Implies{P(k-1)}{P(k)}$.
    
\end{frame}

\begin{frame}{Base case}{Show $P(1): T(1)=S(1)$}
\Vskip{-4em}\begin{center}\ThTop{\N}\end{center}
\SmallSkip{}
\begin{Reasoning}
\Reason{4}{Capture as sum}
\Reason{2}{Simplify constants in exponents}
\Reason{3}{To satisfy the form needed by the summation}
\end{Reasoning}

\Vskip{-2em}\ScrollProof{1}{4}{%
   \Next{\Four}{T(1) &= \TTerm{\ColorOne{1-1}} \\}
   \Next{\Three}{           &= \TwoSupOp{\QZero}{\ExpPhase{2\pi\W}\QOne}{+} \\}
    \Next{\Two}{&= \TwoSupOp{\ThSumTerm{\ColorFour{0}}}{\ThSumTerm{\ColorFour{1}}}{+} \\}
    \Next{\One}{&= \ThSum{1} = S(1)}
}
\visible<4->{\Vskip{-3em}\QED{}}
\end{frame}

\def\W{\ensuremath{w}}
\def\V{\ColorFive{\ensuremath{v}}}
\begin{frame}{Induction step}{With $P(n): T(n)=S(n)$, show \Implies{P(k-1)}{P(k)}}
\Vskip{-4.3em}\begin{center}\ThTop{\N}\end{center}
\SmallSkip{}

\begin{Reasoning}
\CallOut{1-3}{Turquoise}{7.1}{0.8}{6.1}{0.8}
\Reason{1}{Applying induction hypothesis $P(k-1)$;  \TT{k-1} includes the \textcolor{Turquoise}{highlighted terms}}
\CallOut{2}{LimeGreen}{3.85}{0.8}{2.7}{0.8}
\Reason{2}{Tensor both sides with the \ColorThree{same term}, which completes \TT{k}}
\Reason{6}{Expand \SS{k-1} into its summation}
\Reason{7}{Perform the stated tensor product, \ColorFive{combine the roots}}
\Reason{10}{Push the \ColorThree{outer kets} into the \ColorOne{summation}}
\Reason{11}{Factor out the \ColorOne{summation}}
\Reason{14}{\ColorFive{Combine} \ColorThree{one exponent} with \ColorOne{the adjacent exponent}}
\Reason{15}{Introduce \ColorBlack{constants \Set{0,1}} so the exponents are expressed similarly}
\Reason{17}{Note $\ColorOne{(\ColorBlack{1\times}\ColorThree{2^{k-1}}+y)}$ is the numerical value of the bit string $\ColorThree{1}\ColorOne{y}$}
\Reason{18}{Express the \ColorBlack{constants} as a \ColorBlack{summation}}
\Reason{19}{Switch the order of the summations}
\Reason{22}{Express \ColorBlack{$z$}\ColorOne{$y$} as \V}
\end{Reasoning}
{\small
\ScrollProof{1}{4}{%
\Next{\Four}{\TT{k-1} &= \SS{k-1}\\}
\gdef\CarryThree{\ColorThree{\TTerm{k-1}}}%
\gdef\CarryOne{\TensProd{\CarryThree}{\TT{k-1}}} \gdef\CarryTwo{\TensProd{\CarryThree}{\SS{k-1}}}%
\Next{\Three}{\CarryOne &= \CarryTwo \\}
\Last{\TT{k} &= \CarryTwo}
}}%
\ScrollProof{5}{8}{%
\Next{\Four}{\TT{k} &= \CarryTwo \\}
\Next{\Three}{& = \TensProd{\CarryThree}{\ColorOne{\ThSum{k-1}}}\\}
\gdef\CarryFour{\ColorFive{\RootTwoN{k}}\left( \ColorThree{\QZero}\kern-3ex\ColorOne{\SumBV{y}{k=1}\ExpPhase{2\pi wy}\ket{y}} + \ColorThree{\ExpPhase{2\pi(2^{k-1})w}\QOne{}}\kern-3ex\ColorOne{\SumBV{y}{k=1}\ExpPhase{2\pi wy}\ket{y}}\right)}
\Last{& = \CarryFour}
}%
\ScrollProof{9}{12}{%
\Next{\Four}{\TT{k} &= \CarryFour \\}
\Next{\Three}{&= \RootTwoN{k}\left(\ColorOne{\SumBV{y}{k-1}\ExpPhase{2\pi wy}\ket{\ColorThree{0}y}} + \ColorThree{\ExpPhase{2\pi(2^{k-1})w}}\kern -2ex\ColorOne{\SumBV{y}{k-1}\ExpPhase{2\pi wy}\ket{\ColorThree{1}y}}\right) \\}
\gdef\CarryFive{\RootTwoN{k}\ColorOne{\SumBV{y}{k-1}} \left(\ColorOne{\ExpPhase{2\pi wy}\ket{\ColorThree{0}y}} + \ColorThree{\ExpPhase{2\pi(2^{k-1})w}}\ColorOne{\ExpPhase{2\pi wy}\ket{\ColorThree{1}y}} \right)}
\Last{&= \CarryFive}
}%
\ScrollProof{13}{16}{%
\Next{\Four}{\TT{k} &= \CarryFive\\ }
\Next{\Three}{&= \RootTwoN{k}\ColorOne{\SumBV{y}{k-1}} \left(\ColorOne{\ExpPhase{2\pi wy}\ket{\ColorThree{0}y}} + \ColorFive{\ExpPhase{2\pi w(\ColorThree{2^{k-1}}+\ColorOne{y})}}\ColorOne{\ket{\ColorThree{1}y}} \right)\\}
\gdef\CarrySix{\RootTwoN{k}\ColorOne{\SumBV{y}{k-1}} \left(\ColorOne{\ExpPhase{2\pi w(\ColorBlack{0\times}\ColorThree{2^{k-1}}+\ColorOne{y})}\ket{\ColorThree{0}y}} + \ColorFive{\ExpPhase{2\pi w(\ColorBlack{1\times}\ColorThree{2^{k-1}}+\ColorOne{y})}}\ColorOne{\ket{\ColorThree{1}y}} \right)}
\Last{ &=  \CarrySix}
}%
\ScrollProof{17}{20}{%
\Next{\Four}{\TT{k} &= \CarrySix \\}
\Next{\Three}{&= \RootTwoN{k}\ColorOne{\SumBV{y}{k-1}}\SumBV{z}{1} \ExpPhase{2\pi w (z\times2^{k-1}+y)}\ket{z\ColorOne{y}}\\}
\gdef\CarrySeven{\RootTwoN{k}\SumBV{z}{1}\ColorOne{\SumBV{y}{k-1}} \ExpPhase{2\pi w (z\times2^{k-1}+y)}\ket{z\ColorOne{y}}}
\Last{&=  \CarrySeven\\}
}%
\ScrollProof{21}{23}{%
\Next{\Three}{\TT{k} &= \CarrySeven \\}
\Next{\Two}{&= \RootTwoN{k}\ColorFive{\SumBV{\V}{k} \ExpPhase{2\pi wv}}\ket{\V} \\}
\Next{\One}{&= \SS{k}\QEDsym{}}
}%
\end{frame}
}



\SetTitle{2}{Reversible computations}{No energy lost or gained}{02}

\begin{frame}{Overview}
\begin{itemize}
    \item Quantum computations involve gates that are \emph{unitary} and therefore are invertible.
    \item Quantum computations are delicate and noise must be kept to a minimum.  Interactions with the environment will cause the quantum system to collapse (\href{https://en.wikipedia.org/wiki/Quantum_decoherence}{decoherence}).
    \item We study a mechanical computer first where it is clear that a nonreversible computation gains or loses energy.
    \item We can build reversible circuits for classical and quantum computations.
    
\end{itemize}
\end{frame}

\section*{Reversible computations}

\begin{frame}{Reversible computing \LinkArrow{https://en.wikipedia.org/wiki/Reversible_computing}}{A brief history}
\begin{itemize}[<+->]
    \item A process that is reversible is \href{https://en.wikipedia.org/wiki/Isentropic_process}{isentropic}.
    \item This means that the system requires no net input of energy, and that it requires no net disposition of energy (such as heat loss).
    \item Long ago, such systems were studied by computer scientists because they had the potential to make computations more efficient.
    \item From a practical point of view, the energy lost by non-reversible computing is small compared to other energy losses in a computing system.
    \item However, quantum computing requires reversible gates.
    \item We begin with a mechanical example of an \NamedGate{and} gate, implemented using billiard balls.
\end{itemize}
\end{frame}


\begin{frame}{The \href{https://en.wikipedia.org/wiki/Billiard-ball_computer}{billiard ball computer}}{When a single ball enters at a time}
\TwoColumns{%
Consider the mechanical \NamedGate{and} gate shown here.
\begin{itemize}
    \item<1-> A ball entering from the top
    \only<2->{will emerge from the ``1-out'' hole.}
    \item<3-> A ball entering from the left
    \only<4->{will emerge from the ``0-out'' hole.}
    
\end{itemize}
}{%
\Vskip{-2em}\adjustbox{width=0.8\textwidth}{%
\begin{ReverseDiag}
\visible<1-2>{%
\visible<1>{\BBall{\RCone}{(1,1.5)}}
\draw<2>[->,ultra thick,dashed] (1,1.25) -- ++(0,-6.5);
\visible<2>{\BBall{\RCone}{(1,-5.75)}}}
\visible<3-4>{%
\visible<3>{\BBall{\RCtwo,}{(-1.75,-1.2)}}
\draw<4>[->,ultra thick,dashed] (-1.5,-1.2) -- ++(5.5,0);
\visible<4>{\BBall{\RCtwo,}{(4.5,-1.2)}}
}
\end{ReverseDiag}}

}
\visible<5->{
\MedSkip{}No energy is put in or taken out of the system.  The ball has its own energy, maintained throughout its motion through the box.}
    
\end{frame}

\begin{frame}{The \href{https://en.wikipedia.org/wiki/Billiard-ball_computer}{billiard ball computer}}{When two balls enter simultaneously}
\Vskip{-3em}\TwoUnequalColumns{0.55\textwidth}{0.45\textwidth}{%
Here, two balls enter, one from the top, and one from the left
\begin{itemize}
    \item<1-> A ball entering from the top and a ball entering from the left at the same time
    \only<2->{will \alert<2>{collide here}.}
    \item<3-> They collide internally one more time.
    \item<4-> One ball emerges from the ``AND-output'' chute, the other from the ``1-out'' chute.
    
\end{itemize}
}{%
\Vskip{-2em}\adjustbox{width=0.8\textwidth}{%
\begin{ReverseDiag}
\visible<1>{%
\BBall{\RCone}{(1,1.5)}
\draw[->,thick,\RCone] (1,1.5) -- ++(0,-2);
\BBall{\RCtwo,}{(-1.75,-1.2)}
\draw[->,thick,\RCtwo] (-1.75,-1.2) -- ++(2.5,0);}
\visible<2>{%
\BBall{\RCone}{(1,-0.5)}
\draw[->,thick,\RCone] (1,-0.5) -- ++(1.0,0) -- ++(0,-2);
\BBall{\RCtwo}{(0.5,-1.25)}
\draw[->,thick,\RCtwo] (0.5,-1.25) -- ++(0,-1.75) -- ++(1.25,0);
}
\visible<3>{%
\BBall{\RCone}{(2,-2.25)}
\draw[->,thick,\RCone] (2,-2.25) -- ++(2,0);
\BBall{\RCtwo}{(1.5,-3)}
\draw[->,thick,\RCtwo] (1.5,-3) -- ++(0,-2);
}
\visible<4->{%
\BBall{\RCone}{(4.5,-2.25)}
\BBall{\RCtwo}{(1.5,-5.5)}
}
\end{ReverseDiag}}
}
\visible<5->{
\MedSkip{}Again, the energy of the box remains the same throughout.\Remark{It would take energy to \emph{stop} the ball from exiting the ``1-out'' chute.}}

    
\end{frame}

\section{Reversible gates}
\begin{frame}{Not and And}{From page 12 of \Kaye{}}
\TwoColumns{%
\begin{itemize}
    \only<1>{
    \item The \emph{not} gate is reversible and is in fact its own inverse.}
    \item<2-> Is \And{a}{b} reversible if we know $a$?  \only<3->{\alert<3>{No}.} \only<3>{If $a=0$, $b$ could be either $0$ or $1$.}
    \item<4-> We need a copy of both inputs to create a reversible \emph{and} gate.
\end{itemize}
 
}{%


\begin{center}
\only<1>{
\begin{GateBox}[scale=0.5]{2}{1}{1}
\BoxLabel{Not}
\Input{0}{$a$}
\Output{0}{\Overline{a}}
\end{GateBox}}

\only<2-3>{\begin{GateBox}{2.5}{1}{2}
\BoxLabel{Reversible?}
\Input{0}{$a$}
\Input{1}{$b$}
\Output{0}{$a$}
\Output{1}{\And{a}{b}}
\end{GateBox}}


\only<4>{\begin{GateBox}{2.5}{1}{3}
\BoxLabel{Reversible?}
\Input{0}{$a$}
\Input{1}{$b$}
\Output{0}{$a$}
\Output{1}{$b$}
\Output{2}{\And{a}{b}}
\end{GateBox}}

\only<5>{\begin{GateBox}{2.5}{1.5}{3}
\BoxLabel{\mbox{\stackbox[c]{Reversible\\ And}}}
\Input{0}{$a$}
\Input{1}{$b$}
\Input{2}{\Zero{}}
\Output{0}{$a$}
\Output{1}{$b$}
\Output{2}{\And{a}{b}}
\end{GateBox}}
\end{center}
}
\MedSkip{}
   \only<4>{
    However, this box must generate energy to produce the third output.  To conserve energy, a reversible box must have the same number of inputs as outputs.}

\only<5>{This box enables reversal of the computation and it accepts an \href{https://en.wikipedia.org/wiki/Ancilla_bit}{ancilla} bit as a third input.}

\OnlyRemark{5}{The circuit elements involved in quantum computations must be \emph{reversible} and must contain the same number of inputs as outputs.}
\end{frame}

\begin{frame}{The Toffoli / CCNOT gate}{Uses the third input to greater advantage}
\TwoColumns{%
\begin{itemize}
    \item<1-> The signals $a$ and $b$ are copied to their respective outputs.
    \item<2-> The bottom output is computed as: 
    \only<2->{
    \Vskip{-2em}\begin{description}
        \item[$c=0$] The output is \And{a}{b}.
        \item[$c=1$] The output is \Nand{a}{b}.
    \end{description}}
    \item<2-> Because it can realize Nand, this reversible gate is \emph{universal} for constructing classical circuits.
    \item<3-> The gate is known in quantum computing as the \href{https://en.wikipedia.org/wiki/Toffoli_gate}{Tofolli Gate}.
\end{itemize}
}{%
\begin{center}
\begin{GateBox}{2.5}{1.5}{3}
\only<1-2>{\BoxLabel{\mbox{f(a,b)=\And{a}{b}}}}
\only<3-4>{\BoxLabel{Tofolli Gate}}
\only<5->{\BoxLabel{\mbox{\stackbox[c]{Tofolli Gate\\ CCNOT}}}}

\Input{0}{$a$}
\Input{1}{$b$}
\Input{2}{$c$}
\Output{0}{$a$}
\Output{1}{$b$}
\only<1-3>{\Output{2}{\Xor{c}{(\And{a}{b})}}}
\only<4->{\Output{2}{\Xor{(\And{a}{b})}{c}}}
\end{GateBox}
\end{center}
\only<4->{\MedSkip{}
An alternative view of this gate:
\begin{itemize}
    \item When $a$ and $b$ are both \True{}, the incoming signal $c$ is complemented on output.
    \item<5-> It is thus also called a controlled-controlled-Not gate, or CCNOT.
\end{itemize}
}
}
    
\end{frame}

\begin{frame}{CNOT gate}{Two-bit version of CCNOT}
\Vskip{-3em}
\TwoColumns{%

\begin{itemize}
    \item We can say $c$ controls whether the bottom output is $a$ or its complement.
    \item<2-> We prefer to say $a$ controls whether the bottom output is $c$ or its complement. This is \CNOT{a}{c}.
    \item<3-> The computation is reversible because
    $\Xor{a}{(\Xor{c}{a})} = c $.  \only<3>{We can thus recover $c$.}
    \item<4-> Here you see the quantum circuit symbol for \CNOT{a}{c}:  $a$ conditionally complements $c$.
\end{itemize}
}{%
\begin{GateBox}{2}{1}{2}
\BoxLabel{CNOT}

\Input{0}{$a$}
\Input{1}{$c$}
\Output{0}{$a$}
\Output{1}{\Xor{a}{c}}
\end{GateBox}
\begin{center}
\begin{tabular}{cc||cc}
\multicolumn{2}{c}{Inputs} &
\multicolumn{2}{c}{Outputs} \\
$a$ & $c$  & $a$ & \Xor{c}{a} \\ \hline
0 & 0 & 0 & 0 \\
0 & 1 & 0 & 1 \\
1 & 0 & 1 & 1 \\
1 & 1 & 1 & 0
\end{tabular}
\end{center}

\only<4->{
\begin{center}
\begin{quantikz}
\lstick{$a$} & \ctrl{1} & \qw & \rstick{$a$}\\ 
\lstick{$c$} & \targ{}  & \qw & \rstick{\Xor{a}{c}}
\end{quantikz}
\end{center}
}
}
\end{frame}

\begin{frame}{Generally reversible computation}{From \Kaye{} page 14}
\Vskip{-4em}\begin{center}
\begin{Pixture}[width=0.7\textwidth]{02}{kayep14fig1.6.png}
\end{Pixture}\end{center}
    
\end{frame}
